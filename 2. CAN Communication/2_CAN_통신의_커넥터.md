# CAN 통신의 커넥터

## 실제 전선 연결의 문제점

### 전선의 물리적 구조
- **내부**: 전류가 흐르는 구리선
- **외부**: 절연 피복 (고무 등)
- **보호 목적**: 물 침입 방지, 단선 방지

### 직접 연결의 어려움
- 피복 제거 필요
- 구리선 간 직접 연결
- **고정 방법의 한계**:
  - 절연테이프 사용 시 불안정
  - 물 침입 위험
  - 연결 부위 단선 위험

<br>

## 커넥터의 필요성

### 표준화의 중요성
- 각 회사별 다른 커넥터 사용 시 호환성 문제
- 연결 불가능한 상황 발생
- **해결책**: 공통 표준 커넥터 사용

<br>

## D-Sub 커넥터 (DB-9)

### 기본 특성
- **형태**: 알파벳 D 모양
- **정식 명칭**: D-Sub 9핀 커넥터 (DB-9)
- **핀 개수**: 9개
- **표준화**: CAN 통신 표준 커넥터

### 사용 목적
- **호환성**: 모든 CAN 장비 간 연결 가능
- **안정성**: 견고한 물리적 연결
- **표준화**: 업계 공통 규격

<br>

## CAN 통신 신호선

### 차동 신호 방식
CAN 통신은 **두 가닥의 전선**을 사용합니다:
- **CAN_H (CAN HIGH)**: 고전위 신호선
- **CAN_L (CAN LOW)**: 저전위 신호선

### 차동 신호의 장점
- **노이즈 내성**: 외부 간섭에 강함
- **신호 품질**: 안정적인 데이터 전송
- **거리**: 장거리 통신 가능

<br>

## D-Sub 커넥터 핀 배치 규칙

### 표준 핀 할당
- **2번 핀**: CAN_L (CAN LOW) 연결
- **7번 핀**: CAN_H (CAN HIGH) 연결
- **나머지 핀**: 미사용 또는 보조 기능

### 핀 번호 표준화의 중요성
- 다른 핀에 연결 시 통신 불가
- 모든 제조사가 동일한 규칙 준수 필요
- 장비 간 호환성 보장

<br>

## 네트워크 연결 방식

### 제어기 간 연결
1. 각 제어기의 전선을 D-Sub 커넥터에 연결
2. 정해진 핀 번호에 맞춰 배선
3. 커넥터끼리 연결하여 통신

### 버스 네트워크 구성
- 버스에 다수의 D-Sub 커넥터 부착
- 각 제어기가 개별 커넥터에 연결
- 모든 제어기가 동일한 버스 공유

<br>

## 종단 저항 (Termination Resistor)

### 기본 개념
- **위치**: 버스 양 끝단
- **값**: 120Ω
- **목적**: 신호 반사 방지, 신호 품질 향상

### 필요성
- 고속 디지털 신호의 안정성 확보
- 데이터 무결성 보장
- 통신 오류 최소화

<br>

## 실제 적용 사례

### CAN 분석 장비
- 모든 상용 CAN 분석기에 D-Sub 커넥터 사용
- 오실로스코프, 로직 애널라이저 등
- 표준 커넥터로 호환성 보장

### 자동차 진단 장비
- OBD-II 포트와 CAN 인터페이스
- 차량 ECU 간 통신 분석
- 표준화된 연결 방식

<br>

## 추가 고려사항

### 커넥터 품질
- **접촉 저항**: 낮은 저항값 유지
- **내구성**: 반복 연결/해제 가능
- **환경 내성**: 온도, 습도, 진동 대응

### 케이블 특성
- **임피던스**: 120Ω 특성 임피던스
- **차폐**: 외부 노이즈 차단
- **길이**: 최대 전송 거리 고려

<br>

## 핵심 요약

1. **D-Sub 9핀 커넥터**: CAN 통신 표준 커넥터
2. **핀 배치**: CAN_L은 2번 핀, CAN_H는 7번 핀
3. **차동 신호**: 두 가닥 전선으로 노이즈 내성 확보
4. **표준화**: 모든 장비 간 호환성 보장
5. **종단 저항**: 버스 양단에 120Ω 저항 필요